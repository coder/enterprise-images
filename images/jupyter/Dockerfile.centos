FROM codercom/enterprise-base:centos

# Run everything as root
USER root

# Install required dependencies
RUN dnf install --assumeyes \
   platform-python-devel

# Install jupyter
RUN python3 -m pip install --upgrade pip && \
    pip3 install --upgrade setuptools && \
    pip3 install jupyterlab==3.2.9 && \
    pip3 install jupyter-core==4.6.3 && \
    pip3 install notebook==6.4.10

# Set back to coder user
USER coder
